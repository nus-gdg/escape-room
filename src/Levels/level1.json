{
  "initialState": {
    "foundString": false,
    "unlockedSafe": false,
    "foundMagnet": false,
    "foundMagnetAndString": false,
    "foundKey": false
  },
  "initialRoom": "main",
  "rooms": {
    "main": {
      "description": [
        "You are trapped...",
        "",
        "On the left, you see an sink.",
        "Beside it, there is a safe.",
        "On your right, there are stairs leading to a second floor."
      ],
      "modifies": {},
      "options": [
        {
          "summary": "Go to sink.",
          "destination": "sink",
          "requires": {}
        },
        {
          "summary": "Go to safe.",
          "destination": "main",
          "requires": {}
        },
        {
          "summary": "Go upstairs.",
          "destination": "main",
          "requires": {}
        }
      ]
    },
    "sink": {
      "description": [
        "You approach the small sink squeezed in a corner of the room."
      ],
      "modifies": {},
      "options": [
        {
          "summary": "Look inside the sink.",
          "destination": "sink_hole",
          "requires": {}
        },
        {
          "summary": "Look under the sink.",
          "destination": "sink_hole",
          "requires": {}
        },
        {
          "summary": "Back.",
          "destination": "main",
          "requires": {}
        }
      ]
    },
    "sink_hole": {
      "description": [
        "Water drips from the sink tap like a clock,",
        "chiming as the droplets spatter on the metallic surface."
      ],
      "modifies": {},
      "options": [
        {
          "summary": "Inspect sink hole.",
          "destination": "sink_hole_plugged",
          "requires": {
            "foundKey": false
          }
        },
        {
          "summary": "Unplug sink hole.",
          "destination": "sink_hole_unplugged",
          "requires": {
            "foundKey": false,
            "foundMagnetAndString": true
          }
        },
        {
          "summary": "Back.",
          "destination": "sink",
          "requires": {}
        }
      ]
    },
    "sink_hole_plugged": {
      "description": [
        "There seems to be something shiny peeking out of the dark hole and out of your reach."
      ],
      "modifies": {},
      "options": [
        {
          "summary": "Continue.",
          "destination": "sink_hole",
          "requires": {}
        }
      ]
    },
    "sink_hole_unplugged": {
      "description": [
        "You retrieve a tiny key from the sink hole."
      ],
      "modifies": {
        "foundKey": true
      },
      "options": [
        {
          "summary": "Continue.",
          "destination": "sink_hole",
          "requires": {}
        }
      ]
    }
  }
}